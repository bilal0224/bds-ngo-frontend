(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7156:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(4984)}])},9541:function(e,n,t){"use strict";t.d(n,{B:function(){return l}});var r=t(5893),s=t(3640),a=t(1664),i=t(8165),l=function(e){var n=e.handleSubmit,t=e.name,l=e.setName,o=e.email,c=e.setEmail,u=e.password,d=e.setPassword,h=e.loading,m=e.ok,f=e.setOk,p=e.page;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:n,children:["login"!==p&&(0,r.jsxs)("div",{className:"p-3 form-group",children:[(0,r.jsx)("label",{className:"text-muted",children:"Your NGO's name"}),(0,r.jsx)("input",{value:t,onChange:function(e){return l(e.target.value)},type:"text",className:"form-control",placeholder:"Enter NGO's name:"})]}),(0,r.jsxs)("div",{className:"p-3 form-group",children:[(0,r.jsx)("label",{className:"text-muted",children:"Your NGO's Email Address"}),(0,r.jsx)("input",{value:o,onChange:function(e){return c(e.target.value)},type:"email",className:"form-control",placeholder:"Enter NGO's Email:"})]}),(0,r.jsxs)("div",{className:"p-3 form-group",children:[(0,r.jsx)("label",{className:"text-muted",children:"Password"}),(0,r.jsx)("input",{value:u,onChange:function(e){return d(e.target.value)},type:"password",className:"form-control",placeholder:"Enter NGO's Password:"})]}),(0,r.jsx)("div",{className:"d-flex justify-content-center p-3",children:(0,r.jsx)("button",{className:"btn btn-primary col-12",children:h?(0,r.jsx)(i.Z,{spin:!0,className:"py-1"}):"Submit"})})]}),(0,r.jsxs)(s.Z,{title:"Registered!",visible:m,onCancel:function(){return f(!1)},footer:null,children:[(0,r.jsx)("p",{children:"Your NGO has been successfully registered."}),(0,r.jsx)(a.default,{href:"/login",children:(0,r.jsx)("a",{className:"btn btn-primary btn-sm",children:"Login"})})]}),(0,r.jsx)("div",{className:"text-center",children:"login"==p?(0,r.jsx)(a.default,{href:"/register",children:(0,r.jsx)("a",{children:"Not registered? Register now!"})}):(0,r.jsx)(a.default,{href:"/login",children:(0,r.jsx)("a",{children:"Already registered? Login."})})})]})}},4984:function(e,n,t){"use strict";t.r(n);var r=t(4051),s=t.n(r),a=t(5893),i=t(848),l=t(7294),o=t(9669),c=t.n(o),u=t(782),d=t(9541),h=t(1163),m=t(5144),f=t(3454);function p(e,n,t,r,s,a,i){try{var l=e[a](i),o=l.value}catch(c){return void t(c)}l.done?n(o):Promise.resolve(o).then(r,s)}n.default=function(){var e=(0,l.useState)(""),n=e[0],t=e[1],r=(0,l.useState)(""),o=r[0],g=r[1],x=(0,l.useState)(!1),v=x[0],N=x[1],j=(0,l.useState)(!1),w=j[0],b=j[1],y=(0,l.useContext)(m.j),_=y[0],k=y[1],E=(0,h.useRouter)(),O=function(){var e,t=(e=s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,N(!0),e.next=5,c().post("".concat(f.env.NEXT_PUBLIC_API,"/login"),{email:n,password:o});case 5:r=e.sent.data,k({ngo:r.ngo,token:r.token}),window.localStorage.setItem("auth",JSON.stringify(r)),E.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),u.Am.error(e.t0.response.data),N(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function i(e){p(a,r,s,i,l,"next",e)}function l(e){p(a,r,s,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return _&&_.token&&E.push("/"),(0,a.jsx)("div",{className:" vh-100 d-flex justify-content-center align-items-center bg-secondary",children:(0,a.jsx)(i.Z,{className:"bg-light",title:"Login",bordered:!0,style:{width:1e3,height:600},children:(0,a.jsx)(d.B,{handleSubmit:O,email:n,setEmail:t,password:o,setPassword:g,loading:v,ok:w,setOk:b,page:"login"})})})}}},function(e){e.O(0,[444,723,737,774,888,179],(function(){return n=7156,e(e.s=n);var n}));var n=e.O();_N_E=n}]);